<mat-toolbar class="mb-3 marketplace-toolbar">
    <span>Deployments <mat-icon>view_in_ar</mat-icon></span>
</mat-toolbar>


<div class="deployment-actions">
  
    <button mat-icon-button aria-label="">
        <mat-icon color="primary">add_circle_outline</mat-icon>
    </button>
    <button mat-raised-button [disabled]="!selection.hasValue()" [matMenuTriggerFor]="menu" class="mt-1">
        {{ "DEPLOYMENTS.BULK-ACTIONS" | translate }}
        <mat-icon iconPositionEnd>more_vert</mat-icon>
    </button>
    <mat-menu #menu="matMenu">
        <button mat-menu-item >
            <div class="menu-item-w-icon">
            <span>Delete</span>
            <mat-icon color="warn" class="ml-2">delete</mat-icon>
            </div>
            
        </button>
        
    </mat-menu>

</div>

<table mat-table [dataSource]="dataSource" class="mat-elevation-z8">
    <!-- selection column with checkbox -->
    <ng-container matColumnDef="select">
        <mat-header-cell *matHeaderCellDef class="selection-checkbox">
            <mat-checkbox color="primary" (change)="$event ? masterToggle() : null"
                [checked]="selection.hasValue() && isAllSelected()"
                [indeterminate]="selection.hasValue() && !isAllSelected()">
            </mat-checkbox>
        </mat-header-cell>
        <mat-cell *matCellDef="let row" class="selection-checkbox">
            <mat-checkbox color="primary" (click)="$event.stopPropagation()"
                (change)="$event ? selection.toggle(row) : null" [checked]="selection.isSelected(row)">
            </mat-checkbox>
        </mat-cell>
    </ng-container>

    <!-- Rest of the columns-->
    <ng-container *ngFor="let column of columns" [matColumnDef]="column.columnDef">
        <mat-header-cell *matHeaderCellDef>{{ column.header | translate }}</mat-header-cell>
        <mat-cell *matCellDef="let row" class="content-cell">{{ row[column.columnDef] }}</mat-cell>
    </ng-container>

    <!-- table action column -->

    <ng-container matColumnDef="action">
        <mat-header-cell *matHeaderCellDef class="actions-cell">{{"DEPLOYMENTS.ACTIONS" | translate}}</mat-header-cell>
        <mat-cell *matCellDef="let i = index" class="actions-cell">
            <button mat-button [matMenuTriggerFor]="menuAccess" class="action-button-in-cell">
                <mat-icon  color="primary">terminal</mat-icon>
            </button>
            <mat-menu #menuAccess="matMenu">
                <button mat-menu-item >
                    <span> DEEEPaaS</span>
                </button>
                <button mat-menu-item>
                    <span> JupyterLab</span>
                </button>
                <button mat-menu-item>
                    <span> Monitor</span>
                </button>
                <button mat-menu-item>
                    <span> History</span>
                </button>
            </mat-menu>
            <button mat-button [matMenuTriggerFor]="menuInfo">
                <mat-icon color="primary">info</mat-icon>
            </button>
            <mat-menu #menuInfo="matMenu">
                <button mat-menu-item >
                    <span>Details</span>
                    <mat-icon  class="ml-2">list</mat-icon>
                    
                </button>

                <button mat-menu-item >
                    <span>View template</span>
                    <mat-icon  class="ml-2">search</mat-icon>
                    
                </button>

                
                
            </mat-menu>


            <button mat-button class="action-button-in-cell" (click)="removeDeployment(i)">
                <mat-icon color="warn">delete</mat-icon>
            </button>

        </mat-cell>
    </ng-container>


    <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
    <mat-row *matRowDef="let row; columns: displayedColumns"></mat-row>
</table>